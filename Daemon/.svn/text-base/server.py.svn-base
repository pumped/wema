from bottle import static_file, route, run
from marxan import Marxan


@route('/')
def default():
    return "Welcome to the Marxan Web API"

@route('/set/<project>')
def setData(project="Demo"):
    m = Marxan()
    m.runMarxan(project=project)
    return "Marxan Ran"

@route('/setPU/<project>/<id>/<toggle>')
def setPU(project,id,toggle):
	m = Marxan()
	m.setPU(project,id,toggle)
	return "PU Set " + project + " " + id + " " + toggle
	
@route('/restore/<project>')
def restore(project):
	m = Marxan()
	m.restore(project)
	return "PU file Restored"

@route('/data/<filename>')
def server_static(filename):
    return static_file(filename, root='Marxan/MarZoneData_unix/output')
    
from bottle import error
@error(404)
def error404(error):
    return '{"error" : {"code" : 404, "string" : "Invalid Request"}}'


run(host='192.168.1.1', port=5566, debug=True)
